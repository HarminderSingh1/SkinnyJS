<!DOCTYPE html><html lang="en"><head><title>js\jquery.hoverDelay</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="js\jquery.hoverDelay"><meta name="groc-project-path" content="js\jquery.hoverDelay.js"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">js\jquery.hoverDelay.js</div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><a href="../index.html">Homepage</a> | 
<a href="https://github.com/vistaprint/SkinnyJS/blob/master/js/jquery.hoverDelay.js" target="_blank">View this file on Github</a> | 
<a href="https://raw.github.com/vistaprint/SkinnyJS/master/js/jquery.hoverDelay.js" target="_blank">Download this file</a>

<hr style="height: 1px; border:0; background-color:#4A525A">
<h2 id="jqueryhoverdelay">jQuery.hoverDelay</h2></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>Assigns mouseover and mouseout handlers to the specified element, but the handlers
are only fired after the specified delay. This is particularly useful in preventing widgets from
activating on mouseover when the user mouses over them while attempting to activate a different object.</p></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="usage">Usage</h3></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><pre><code>$(".menu-item").hoverDelay({
    over: function(e) { activateWidget(e); }, // mouseover handler
    out: function(e) { activateWidget(e); }, // mouseout handler
    delayOver: 350, // fire mouseover after 350 milliseconds
    delayOut: 0 // fire mouseout immediately
});
</code></pre></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>The jQuery.Event object is passed to the handlers just as if they were added via jQuery.fn.on()</p></div></div></div><div class="segment"><div class="comments"><div class="wrapper"><h3 id="source">Source</h3></div></div></div><div class="segment"><div class="code"><div class="wrapper"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span>
<span class="p">{</span>
    
    <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">hoverDelay</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">_defaults</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nx">over</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
            <span class="nx">out</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
            <span class="nx">delayOver</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">delayOut</span><span class="o">:</span> <span class="mi">0</span>
        <span class="p">};</span>
        
        <span class="kd">var</span> <span class="nx">_options</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span> <span class="nx">_defaults</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
        </div></div></div><div class="segment"><div class="comments"><div class="wrapper"><p>For each element in the jQuery collection,
assign a mouseover and mouseout event handlers
that have been "debounced" (wrapped with setTimeouts).</p></div></div><div class="code"><div class="wrapper">        <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">overTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">outTimer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
            
            <span class="kd">var</span> <span class="nx">clearTimers</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">overTimer</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">overTimer</span><span class="p">);</span>
                <span class="p">}</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="nx">outTimer</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">outTimer</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">};</span>
            
            <span class="kd">var</span> <span class="nx">mouseOver</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
                <span class="nx">clearTimers</span><span class="p">();</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">_options</span><span class="p">.</span><span class="nx">delayOver</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nx">_options</span><span class="p">.</span><span class="nx">over</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="nx">overTimer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">_options</span><span class="p">.</span><span class="nx">over</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">me</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span> <span class="p">},</span> <span class="nx">_options</span><span class="p">.</span><span class="nx">delayOver</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">};</span>
            
            <span class="kd">var</span> <span class="nx">mouseOut</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
                <span class="nx">clearTimers</span><span class="p">();</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="nx">_options</span><span class="p">.</span><span class="nx">delayOut</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nx">_options</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">else</span>
                <span class="p">{</span>
                    <span class="nx">outTimer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">_options</span><span class="p">.</span><span class="nx">out</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">me</span><span class="p">,</span> <span class="nx">e</span><span class="p">);</span> <span class="p">},</span> <span class="nx">_options</span><span class="p">.</span><span class="nx">delayOut</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">};</span>
        
            <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hover</span><span class="p">(</span><span class="nx">mouseOver</span><span class="p">,</span> <span class="nx">mouseOut</span><span class="p">);</span>
        <span class="p">});</span>
        
        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">};</span>

    
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span></div></div></div></div></body></html>